# Сравнение производительности хранилищ
Для сравнения были выбраны PostgreSQL и MongoDB. Основным методом тестирования были запись и чтение с замером затраченного времени.


## Аппаратная часть
Тестирование проводилось на ноутбуке с конфигурацией:
- Процессор: AMD Ryzen 5 5500U 2.10 ГГц, 6 ядер
- Оперативная память: 16 Гб DDR4
- Накопитель: SAMSUNG MZALQ512HBLU-00BL2 - SSD 512 Гб

## Результаты
Сравнительный результат тестирования [PostgreSQL](./Postgres/README.MD) и [MongoDB](./Mongo/README.MD) представлен в таблице

Операция        | PostgreSQL  | MongoDB     |
----------------|-------------| ----------- |
INSERT 10k      | 0.81s       | 17.56s      |
INSERT 100k     | 7.78s       | 154.23s     |
INSERT 1M       | 74.51s      | 1616.42s    |
INSERT 10M      | 773.83      | -           |
SELECT TOP 10   | 0.05s       | 1.52s       |
SELECT TOP 100  | 0.38s       | 1.46s       |
SELECT TOP 1000 | 3.45s       | 1.72s       |
SELECT RATING   | 0.29s       | 0.23s       |


Как видно из таблицы, PostgreSQL сильно превосходит MongoDB в скорости записи. Чтение же MongoDB выполняет стабильнее, при возрастающих объемах данных. Плюсом MongoDB так же является гибкое масштабирование и отсутствие необходимости строго проектировать БД, учитывая всевозможные бизнесс-требования. Поэтому в качестве хранилища лайков и рецензий для проекта UGC был выбран **MongoDB** с использованием асинхронной библиотеки [Motor](https://motor.readthedocs.io/en/stable/).